# 실행컨텍스트

> 출처 [모던 JavaScript 튜토리얼](https://ko.javascript.info/),Modern JavaScript Deep Dive을 보고 정리한 내용입니다.

자바스크립트 엔진은 1. 소스코드의 평가 2. 소스코드의 실행의 과정으로 분리하여 처리한다.

1. 소스코드의 평가 - 실행 컨텍스트를 생성하고 변수, 함수 등의 선언문만 먼저 실행하여 생성된 변수나 함수 식별자를 키로 실행 컨텍스트가 관리하는 스코프에 등록한다.

2. 소스코드 평가의 과정이 끝나고 실행에 필요한 정보, 즉 변수나 함수의 참조를 실행 컨텍스트가 관리하는 스코프에서 검색하여 취득한다.

실행 중인 함수의 실행 절차에 대한 정보는 해당 함수의 실행 컨텍스트(execution context)에 저장된다.

```js
var x; // 소스코드의 평가 단계에서 실행 컨텍스트에 x를 등록하고 undefined으로 초기화한다.

x = 1; // 소스코드의 실행 단계에서 x변수가 선언된 변수인지 확인한다. 즉 실행 컨텍스트에 등록되어 있는지 확인하고 1이라는 값을 할당하여 실행 컨텍스트에서 관리한다.
```

실행 컨텍스트는 함수 실행에 대한 세부 정보를 담고 있는 내부 데이터 구조로

-   제어 흐름의 현재 위치
-   변수의 현재 값
-   this 의 값 등의 상세 내부 정보가 실행 컨텍스트에 저장된다.

함수 호출 일 회당 정확히 하나의 실행 컨텍스트가 생성된다. 함수와 연관된

함수 내부에 중첩 호출이 있을 떄는 아래의 절차가 수행된다.

-   현재 함수의 실행이 일시 중지
-   중지된 함수와 연관된 실행 컨텍스트는 **실행 컨텍스트 스택** 이라는 자료 구조에 저장된다.
-   중첩 호출이 실행된다.
-   중첩 호출 실행이 끝난 후 **실행 컨텍스트 스택** 에서 일시 중단한 함수의 실행 컨텍스트를 꺼내오고 중단한 함수의 실행을 다시 이어갑니다.

실행 컨텍스트가 중첩되는 재귀는 메모리 요구사항에 유의해야 한다.
